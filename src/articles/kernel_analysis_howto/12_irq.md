# 12. IRQ

## 12.1 概要

IRQは要求された作業が完了したことを知らせるためにマイクロプロセッサに送られる
非同期信号です。

12.2 相互作用スキーマ

```
                                 |<-->  IRQ(0) [Timer]
                                 |<-->  IRQ(1) [Device 1]
                                 | ..
                                 |<-->  IRQ(n) [Device n]
    _____________________________|
     /|\      /|\          /|\
      |        |            |
     \|/      \|/          \|/

    Task(1)  Task(2) ..   Task(N)

             IRQ - Tasks Interaction Schema
```

### 何が起こるのか？

一般的なOSは多くのIRQ信号を使用して通常プロセスの実行を中断して何らかの
ハウスキーピング作業を行います。

1. IRQ(i)が発生し、タスク(j)が割り込まれます
2. IRQ(i)_ハンドラが実行されます
3. 割り込まれたタスク(j)に制御を戻します

Linuxでは、IRQが上がると、まずIRQラッパールーチン(`interrupt0x?`)が呼び出され、
次に「公式の」IRQ(i)_handlerが実行されます。これによりタイムスライスプリエンプション
などの何らかの作業をすることができます。
